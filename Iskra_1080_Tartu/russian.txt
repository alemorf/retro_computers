Искра 1080 Тарту

Год	≤1990
ОЗУ	64 кБ
ПЗУ	20 кБ
Проц	К580ВМ80А 2.2 MГц
Графика	768x256x2, 384x256x4, палитра 16 цв
Звук	1 бит
В ПЗУ	Бейсик, Монитор, Дизассемблер, CP/M BIOS

Искра 1080 Тарту это советский домашний компьютер. Компьютер разработан и
выпускался курским объединением Счётмаш. Дата начала производства неизвестна.
Мой экземпляр датируется 1990 годом.

В компьютере используется процессор КР580ВМ80А, который работает на тактовой
частоте 2.2 МГц. Установлено 64 кБ ОЗУ и все они доступны. Видеоадаптер
использует  часть этой памяти 12 кБ или 24 кБ. Под программе и её данным
остается 52 кБ или  40 кБ. Видеоадаптер компьютера поддерживает три графических
режима. Два низкого разрешения 384x256 2 цвета и 384x256 4 цвета. И один
высокого 768x256 2 цвета. Компьютер работает быстрее в режиме 384x256 2 цвета,
чем в остальных. Цвета выбираются из палитры в 16 цветов. Для переключения между
режимами 384 и 768 необходимо переключить микропереключатель на задней стенке
компьютера. ПЗУ компьютера объемом 20 кБ содержит: Бейсик, Монитор,
Дизассемблер, CP/M BIOS. На плате компьютера есть места для установки микросхем:
последовательного порта КР580ВВ51 и контроллера дисководов КР1818ВГ93. На разъем
расширения выведены сигналы для подключения дополнительной оперативной памяти,
альтернативного ПЗУ.

Компьютер выпускался в различных комплектациях, которые получили различные
названия: Искра 1081, Искра 1083, Искра 1084. Я не видел и не слышал
ни об одном из этих компьютеров. В Руководстве по эксплуатации написано что 
Искра 1081 поставлялась с двумя джойстиками и кассетой ПЗУ. Компьютер Искра 1083
поставлялся с кабелями ИРПС и НГМД. То есть, на плате компьютера была
установлена микросхема  последовательного порта. И возможно микросхема
контроллера дисководов. Но на рисунке в Руководстве эксплуатации контроллер
дисководов изображен в двух вариантах: встроенный и в виде внешней платы
подключаемой к разъему расширения. Специалисты из Тарту ничего не знают об 
этих контроллерах дисководов. Компьютер Искра 1085 поставлялся с кабелями: 
ИРПС, НГМД и ЛС. ЛС это кабель локальной сети, который соединяет компьютеры
через параллельные порты.

В название компьютера добавлено слово "Тарту" потому что к разработке
компьютера были привлечены специалисты из Тартуского университета.
В 1984 году в Тартуском университете разработали компьютер для работы с CP/M.
Этот компьютер назвали Tartu. Он показывал только черно-белое изображение.
Авторов пригласили к участию в разработке компьютера Искра 1080.
Некоторые аппаратные решения и прошивка компьютера Tartu были использованы как 
основа для Искры 1080.

По требованию Счетмаш специалистами Тарту для Искры 1080 был адаптирован 
какой-то бейсик (либо обеспечена совместимость с каким то Бейскиком). 
В Руководстве по эксплуатации заявлена совместимость с бейсиком компьютера 
Корвет ПК8010. Но бейсики Искры 1080 и Корвета ПК8010 имеют отличающийся набор
команд. Например, у Искры нет команды INKEY$. Компьютеры имеют различное 
разрешение экрана, количество цветов, объем оперативной памяти и скорость
процессора, т.е. полной совместимости нет. Способ записи информации на
магнитную ленту идентичен компьютеру Корвет ПК8010 и компьютерам стандарта MSX.
Как минимум программу загрузить можно.

Специалисты из Тарту добавили поддержку цвета. Но на половину. Команды языка
программирования бейсик PSET, LINE, CIRCLE, PAINT умеют рисовать цветную
графику, но при прокрутке экрана цветная графика превращается в мусор. Потому
что цветной видеорежим организован в виде двух битовых плоскостей, а
функция прокрутки экрана работает только с одной битовой плоскостью.
Функция PRINT не умеет выводить цветной текст по той же причине. 

Графический режим 768x256x2 не поддерживается прошивкой компьютера. И я не видел
ни одной программы для этого режима.

Специалисты из Тарту добавили в прошивку компьютера часть операционной
системы CP/M. Если параллельный порт компьютера Искра 1080 соединить
специальным проводом с параллельным портом IBM PC. Затем запустить
на IBM PC специальную программу. То на Искре 1080 запустится операционная 
система CP/M. Она будет работать с образом дискеты записанным в файл на жестком
диске IBM PC. Единственное упоминание об этой возможности в Руководстве по
эксплуатации это описание контактов бокового разъема. Я написал идентичную 
программу той, что запускалась на IBM PC, только запускается она на 
микроконтроллере STM32F401, который работает с SD картой.

Отличительная черта этого компьютера это стильный корпус. Плоская
прямоугольная поверхность компьютера со скругленными углами похожа на технику
Apple/Xiaomi/Huawei, да и на остальную современную технику. Очертания корпуса
опередили своё время. Красиво выглядят невысокие клавиши белого и серого цветов.
Такой серый цвет долго был в море, да и сейчас выглядит серьезно. В начертании
букв на клавишах, в размере шрифта чувствуется работа дизайнера. Клавиши не
только выглядят красиво, они очень приятно нажимаются. Это герконовые клавиши.
Клавиатура выглядит очень современно для 8 битных компьютеров, используется
раскладка QWERTY, есть клавиши NUM LOCK, CAPS LOCK с соответствующими
светодиодами. К сожалению нет светодиода RUSSIAN. Хоть его никогда не было
на клавиатурах IBM PC, но в Искру бы могли добавить такой светодиод.

Клавиша перезагрузки красного цвета окружена рамкой, что бы её случайно не 
нажали. Выглядит как клавиша остановки атомного реактора. При этом,
нажатие на сброс не вызывает очистку памяти, вы просто возвращаетесь в Бейсик
или Монитор. Выступы на корпусе (цилиндр и кубики) мне не очень нравятся. Под
цилиндром находится магнит встроенного динамика, видимо это решение позволило
уменьшить высоту корпуса. А кубики маскируют вентиляционные отверстия. Боковая
грань корпуса имеет сложную форму с углублением посередине, как на звезде
смерти. Обозначения разъемов на задней стенке выполнены не краской, а рельефом.
А изнутри корпус покрыт токопроводящей краской, что бы экранировать
высокочастотные помехи от компьютера. Мне еще нравились голубые широкие разъемы,
такие разъемы встречались только на сложной компьютерной технике, так выглядели
высокие технологии в конце 80-х.

Интересной особенностью этого компьютера является знакогенератор. Расположение
русских букв соответствует основной кодировке ГОСТ. Но остальные символы
размещены хаотично, например символы рисования рамок. Я в детстве пытался
нарисовать этими символами свой Norton Commander. Но при выводе символов
всегда есть межстрочный интервал в 2 пикселя. Непрерывные рамки распадаются
на строки. Еще два символа рисования рамок дублируются, а два отсутствуют.
Недосмотели.

У компьютера есть интересные для программистов и схемотехников особенности.
Разместить в адресном пространстве размером 64 кБ одновременно 20 кБ ПЗУ и 64 кБ
ОЗУ невозможно. Обычно в 8 битных компьютерах применяется несколько карт памяти,
переключаемые записью числа с специальный регистр. В Искре 1080 так же
применяются карты памяти, но переключаются они автоматически, в зависимости,
откуда выполняется программа. Программе размещенной по адресам 0 - 0С7FFh
доступна вся оперативная память, но прочитать ПЗУ невозможно. Программы нельзя
размещать в ОЗУ выше адреса 0C7FFh, так как попытка выполнения по этим адресам
вызовет подключение ПЗУ вместо ОЗУ и произойдет выполнение программы из ПЗУ. Это
ограничение практически не ощущается, так как в верхней части памяти находится
видеопамять. Крайне редко возникает необходимо размещать исполняемый код в
видеопамяти.

Еще одна заметная особенность платы компьютера, это применение 10 однократно
программируемых микросхем ПЗУ объёмом 2 кБ. Что бы уменьшить нагрузку на блок
питания, питание на нужную микросхему ПЗУ подается только в момент чтения из
неё.

На задний самый широкий разъем компьютера выведена системная шина компьютера, на
боковой разъем выведены: параллельный порт к которому можно подключить: принтер,
последовательный порт, IBM PC в качестве файл-сервера или организовать 
локальную сеть.

Программ для компьютера очень мало. Я их все перечислил тут. Я добавил
скриншоты, краткие описания, приложил исходные коды на Бейсике, ну а программы в
машинном коде дизассемблировал. Программ мало.

Схема компьютера, документация и кассета с программами нашлась. Но там не было
схемы встроенного контроллера дисководов, не было схем. Поэтому я восстановил
схему контроллера по печатной плате. Перечертил все соединения и подобрал
микросхемы. Это как разгадывание кроссвордов. Понять что за 40-ногая микросхема
используется не сложно. У разных микросхем питание подается на разные ножки. Я
проверил и оказалось, что 20 ножка это земля, 21 ножка это +5В, 40 ножка это
+12В. А это может быть только контроллер дисководов КР1818ВГ93. Остальные
микросхемы подбирались по здравому смыслу.

У меня в детстве было чуть больше программ, чем на найденной кассете. Была еще
шикарная рекламная программа на Бейсике с картинками и музыкой. Помню векторное
изображение львенка и мелодию ламбады. Эта демопрогармма была постоянно
запущена на компьютере, пока компьютер лежал в магазине. Я всё еще ищу эти
программы.

Отсутствие Тетриса меня и заставило недавно написать свой Тетрис для Искры 1080.
Почитать можно тут. Изображения для Тетриса я взял из игры для IBM PC.

Мне написал письмо главный разработчик программного обеспечения этого
компьютера. Его зовут Olev Toom.

<< Первоначально (1983-1984) в Тартуском университете был создан компьютер
Tartu. Главным конструктором по электронике был Лео-Хенн Хумал (Leo-Henn Humal),
а большую часть программного обеспечения писал Ваш покорный слуга (с помощью
коллег, разумеется). Я написал основную часть Монитора, дизассемблер и BIOS для
операционной системы CP/M. Также мы адаптировали некую версию языка Basic для
работы из ПЗУ.

Нашей целью было создание простой монохромной машины, на которой работала бы
CP/M и все программы, что для неё написаны.

Машину Tartu выпускали мелкосерийно в Эстонии.

Как у нас возникли связи с Курским заводом "Счетмаш", я сейчас не помню. Но там
заинтересовались нашей машиной. Однако для производства надо было некоторые вещи
переделать. Во-первых, требовалось добавить цветной экран. Во-вторых, надо было
совместить версию Basic с некоторыми другими. Таких изменений было немало. Новый
компьютер Искра 1080 Тарту отличался от первоначальной Tartu, но не очень
сильно.

Я посмотрел в ПЗУ и нашел много кода, который тогда написал. Что меня очень
обрадовало :). >>

