<html lang="ru">
<head>
<style>
th {
    text-align: inherit;
}
.tbl2 {
    border-collapse: collapse;
}
.tbl2 > tbody > tr > td, .tbl2 > tbody > tr > th {
    border: 1px solid black;
}
</style>
<meta charset="utf-8">
</head>
<body>
<h1>Специалист. Монитор версии 1.</h1>

<p>Монитор это программа запускающаяся на компьютере сразу после включения. Обычно она записана в ПЗУ компьютера. Монитор предоставляет пользователю минимальные средства для работы с компьютером. А запускаемым програмам предоставляет набор стандартных подпрограмм.</p>

<h2>Команды монитора</h2>

<p>Команда Монитора задается соответствующим латинским символом и сопровождается в случае 
необходимости одним или несколькими параметрами, представляющими собой шестнадцатеричные числа. 
Имя команды и параметры вводятся без разделителей и полностью. Выполнение команды начинается 
после нажатия клавиши ВК. Если при наборе команды допущена ошибка, то отменить команду или прекратить 
ее действие (в случае команды М) можно введя символ не предусмотренный синтаксисом Монитора 
(например, X). На экране в этом случае появится сообщение "Ошибка" и Монитор вернется в исходное 
состояние.</p>

<table class="tbl2">

<tr><td>D[начало][конец]</td><td>Просмотр области адресного пространства в шестнадцатеричном виде.</td></tr>

<tr><td>M[начало]</td><td>Просмотр и изменение.</td></tr>

<tr><td>Т[начало][конец][куда]</td><td>Копирование области.</td></tr>

<tr><td>F[начало][конец][байт]</td><td>Заполнение байтом.</td></tr>

<tr><td style="white-space:nowrap">С[начало1][конец1][начало2]</td><td>Сравнение областей.</td></tr>

<tr><td>S[начало][конец][байт]</td><td>Поиск последовательности байт.</td></tr>

<tr><td>J[адрес]</td><td>Запуск программу. При отсутствии параметра управление передается по адресу 
0000h. Для возврата в Монитор в программе пользователя должна быть команда RЕТ.</td></tr>

<tr><td>I[начало][конец]</td><td>Загрузка с магнитной ленты. Если указаны параметры [начало] и 
[конец], то данные будут загружены в указанный интервал, причем первые четыре байта это начальный 
и конечный адреса загрузки информационного блока. Переменные определяющие скорость записи и чтения 
хранятся в ячейках 8FFEh и 8FFFh и по умолчанию равны 28h и 3Сh.</td></tr>

<tr><td>О[начало][конец]</td><td>Сохранение на магнитную ленту.</td></tr>

<tr><td>V</td><td>Проверка записи на магнитную ленту.</td></tr>

</table>

<p>С ленты программу можно загрузить двумя способами: с помощью команды Монитора I или проще, сразу после по сброса.
В последнем случае в ОЗУ сохраняется адрес пуска программы и в дальнейшем всегда можно ее вызвать, выполнив 
следующую операцию: [Сброс][STOP][ПС]. </p>

<h2>Карта памяти</h2>

<table class="tbl2">
<tr><th>Адрес</th><th>Описание</th></tr>
<tr><td>0000h - 8FFFh</td><td>ОЗУ. Пользователя.</td></tr>
<tr><td>8A00h - 8FFFh</td><td>ОЗУ. Используется программами из ПЗУ. (8A00h - не точно)</td></tr>
<tr><td>9000h - ВFFFh</td><td>ОЗУ. Видео.</td></tr>
<tr><td>С000h - С7FFh</td><td>ПЗУ. Загрузчик 1 ("Моделист Конструктор" 1987-5).</td></tr>
<tr><td>С800h - СFFFh</td><td>ПЗУ. Монитор 1 и часть Бейсика ("Моделист Конструктор" 1987-6). Может отсутствовать.</td></tr>
<tr><td>D000h - DFFFh</td><td>ПЗУ. Бейсик ("Моделист Конструктор" 1987-7). Может отсутствовать.</td></tr>
<tr><td>E000h - EFFFh</td><td>Не определено.</td></tr>
<tr><td>F000h - F7FFh</td><td>Порт принтера (КР580ВВ55А). Может отсутствовать.</td></tr>
<tr><td>F800h - FFFFh</td><td>Порт клавиатуры и системный порт (КР580ВВ55А).</td></tr>
</table>

<h2>Стандартный набор программ ввода-вывода</h2>

<table class="tbl2">
<tr><th>Адрес</th><th>Описание</th><th>Входные данные</th><th>Выходные данные</th></tr>
<tr><td>C010h</td><td>Очистка экрана</td><td>[8FFAh] = 0FFFFh - светлый фон, [8FFAh] = 0000h - темный фон</td><td>&#160;</td></tr>
<tr><td>C037h</td><td>Вывод символа на экран</td><td>C - код символа<br>[8FFC], [8FFD] - положение курсора<br>[8FE7], [8FE8] - адрес знакогенератора / 8</td><td>&#160;</td></tr>
<tr><td>C170h</td><td>Звук</td><td>[8FF1h] - частота сигнала<br>[8FF2h] - длительность сигнала</td><td>&#160;</td></tr>
<tr><td>C190h</td><td>Задержка</td><td>B - задержка</td><td>&#160;</td></tr>
<tr><td>C254h</td><td>Установка порта клавиатуры<br>(А,С - вывод, В - ввод, режим 0)</td><td>&#160;</td><td>&#160;</td></tr>
<tr><td>C257h</td><td>Установка порта клавиатуры<br>(А,С0..С3 - ввод, В,С4..С7 - вывод, режим 0)</td><td>&#160;</td><td>&#160;</td></tr>
<tr><td>C337h</td><td>Чтение символа с клавиатуры</td><td>&#160;</td><td>A - код символа</td></tr>
<tr><td>C377h</td><td>Чтение байта с магнитной ленты</td><td>A = 08h - без поиска синхробайта<br>A = 0FFh - с поиском синхробайта</td><td>A - байт</td></tr>
<tr><td>C3D0h</td><td>Запись байта на магнитную ленту</td><td>A - байт</td><td>&#160;</td></tr>
<tr><td>C3F9h</td><td>Чтение блока с магнитной ленты с поиском синхробайта.<br>0-1 байт в блоке - адрес начала, 2-3 байт - адрес конца блока.</td><td>&#160;</td><td>&#160;</td></tr>
<tr><td>C422h</td><td>Чтение блока с магнитной ленты с поиском синхробайта.</td><td>HL - адрес начала блока<br>DE - адрес конца блока</td><td>&#160;</td></tr>
<tr><td>C427h</td><td>Сравнение HL и DE</td><td>HL, DE</td><td>Z=1, если равны</td></tr>
<tr><td>C42Dh</td><td>Копирование блока памяти<br>Некорректно копирует вверх перекрываются блоки</td><td>HL - адрес начала блока<br>DE - адрес конца блока<br>BC - новый адрес блока</td><td>&#160;</td></tr>
<tr><td>C438h</td><td>Вывод сообщения на экран</td><td>HL - адрес начала сообщения</td><td>&#160;</td></tr>
</table>

</body>
</html>
